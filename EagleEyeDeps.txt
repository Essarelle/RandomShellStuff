sudo apt-add-repository ppa:graphics-drivers/ppa
sudo apt update
sudo apt-get install nvidia-375 nvidia-375-dev libcuda1-375 nvidia-opencl-icd-375
sudo apt update
sudo apt upgrade
sudo update-grub
sudo apt-get install build-essential dpkg-dev flex bison autotools-dev automake liborc-dev autopoint libtool gtk-doc-tools  libgstreamer1.0-dev libxv-dev libasound2-dev libtheora-dev libogg-dev libvorbis-dev libbz2-dev libv4l-dev libvpx-dev libjack-dev libsoup2.4-dev libpulse-dev faad libfaad-dev libfaac-dev libgl1-mesa-dev libgles2-mesa-dev libx264-dev libmad0-dev libgsm1-dev libschroedinger-dev libspeex-dev libcairo2-doc libgtk2.0-doc liblzma-doc libpango1.0-doc imagemagick libraw1394-doc  imagemagick-doc autotrace curl enscript libav-tools gimp gnuplot grads hp2xx html2ps libwmf-bin mplayer radiance texlive-base-bin transfig ufraw-batch devhelp nasm
sudo apt-get install libgstreamer-plugins-base1.0-dev libgstreamer-plugins-good1.0-0 libgstreamer1.0-0 libgstreamer1.0-0-dbg libgstreamer1.0-dev libgstreamer-plugins-bad1.0-0 libgstreamer-plugins-bad1.0-dev python-protobuf protobuf-compiler libgstreamermm-1.0-0v5 libgstreamermm-1.0-dev libgstreamermm-1.0-doc
sudo apt-get install libxslt1-dev libpolkit-agent-1-dev libpolkit-gobject-1-dev libpolkit-backend-1-dev debhelper dh-apparmor icu-devtools libcln-dev libglib2.0-dev libgmp-dev libgmpxx4ldbl libgps-dev libicu-dev libqalculate-dev libqimageblitz-dev libqt5sensors5 libqt5sensors5-dev libqt5webkit5-dev libqt5x11extras5-dev libraw1394-dev libudev-dev libusb-dev libxapian-dev libxcb-composite0-dev libxcb-cursor-dev libxcb-cursor0 libxcb-damage0-dev libxcb-dpms0 libxcb-dpms0-dev libxcb-ewmh-dev libxcb-ewmh2 libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-record0-dev libxcb-render-util0-dev libxcb-res0 libxcb-res0-dev libxcb-screensaver0 libxcb-screensaver0-dev libxcb-shm0-dev libxcb-util0-dev libxcb-xevie0 libxcb-xevie0-dev libxcb-xf86dri0 libxcb-xf86dri0-dev libxcb-xinerama0 libxcb-xinerama0-dev libxcb-xkb-dev libxcb-xprint0 libxcb-xprint0-dev libxcb-xtest0-dev libxcb-xv0 libxcb-xv0-dev libxcb-xvmc0 libxcb-xvmc0-dev libxml2-dev pkg-kde-tools po-debconf qttools5-dev xcb-proto xvfb qtscript5-dev qtdeclarative5-dev qtbase5-dev qtbase5-dev-tools qt5-qmake doxygen bzr libjson-perl perl-modules libapr1 libaprutil1 libserf-1-1 libsvn1 libxml-parser-perl subversion git build-essential libqt5svg5-dev libgpgme11-dev libepoxy-dev  libssl-dev libjpeg-dev libjpeg-turbo8-dev libjpeg8-dev libgif-dev qtbase5-private-dev qtxmlpatterns5-dev-tools libqt5xmlpatterns5-dev libqt5xmlpatterns5-private-dev libvlc-dev libvlccore-dev gir1.2-gst-plugins-base-1.0 gir1.2-gstreamer-1.0 libasound2-dev libgstreamer-plugins-base1.0-dev libgstreamer1.0-dev libattr1-dev qtquick1-5-dev liblcms2-dev libexiv2-dev libarchive-dev libgcrypt11-dev libgnutls-dev libcups2-dev libfakekey-dev libpam-dev libxrender-dev libpng-dev libxcursor-dev liblmdb-dev libsm-dev libaccounts-glib-dev libtiff5-dev libclang-dev autoconf texinfo libgconf2-dev libcanberra-dev libmlt-dev libmlt++-dev libvncserver-dev libffi-dev libhunspell-dev gperf libicu-dev libxslt-dev
sudo apt-get install python-dev python-numpy python-scipy 
sudo apt-get install qt5-default libqt5opengl5-dev
sudo apt-get install libgtk2.0-dev libgtkglext1 libgtkglext1-dev
sudo apt-get install libpng3 pngtools libpng12-dev libpng12-0 libpng++-dev
sudo apt-get install libjpeg-dev libjpeg-progs
sudo apt-get install libtiff-tools
sudo apt-get install libjasper-dev
sudo apt-get install libavformat-dev libavutil-dev
sudo apt-get install libxine2-dev libxine2
sudo apt-get install libswscale-dev 
sudo apt-get install libdc1394-22 libdc1394-22-dev libdc1394-utils
sudo apt-get install libfaac-dev libmp3lame-dev
sudo apt-get install -y libopencore-amrnb-dev libopencore-amrwb-dev
sudo apt-get install libtheora-dev libvorbis-dev libxvidcore-dev
sudo apt-get install ffmpeg x264 libx264-dev
sudo apt-get install libv4l-0 v4l-utils
sudo apt-get install libtbb-dev
sudo apt-get install libusb-1.0-0-dev
sudo apt-get install mono-complete
sudo apt-get install default-jdk visualvm libatlas-base-dev gfortran python3.5-dev gem-plugin-dc1394 libdc1394-22 libdc1394-22-dev libdc1394-utils
sudo apt-get install libavresample-dev libswscale-ffmpeg3 libxine2-ffmpeg libavutil-dev libopenni-dev libopenni-sensor-primesense-dev libxcb-xinerama0-dev libxcb-xinerama0 libdmx1 libxinerama-dev x11proto-xinerama-dev gxine libdvdnav-dev libdvdnav4 libxine2 libxine2-all-plugins libxine2-dev libxine2-ffmpeg mimms libopenni2-0 libopenni2-dev openni-utils openni2-utils primesense-nite-nonfree  
sudo apt-get install libboost-filesystem1.58.0 libboost-iostreams1.58.0 libboost-program-options1.58-dev libboost-program-options1.58.0 libboost-random1.58.0 libboost-regex1.58.0 libboost-system1.58.0 libboost-thread1.58.0 libboost1.58-dbg libboost1.58-dev libboost1.58-tools-dev libboost-atomic1.58-dev libboost-atomic1.58.0 libboost-chrono1.58-dev libboost-chrono1.58.0 libboost-context1.58-dev libboost-context1.58.0 libboost-coroutine1.58-dev libboost-coroutine1.58.0 libboost-date-time1.58-dev libboost-exception1.58-dev libboost-filesystem1.58-dev libboost-geometry-utils-perl libboost-graph-parallel1.58-dev libboost-graph-parallel1.58.0 libboost-graph1.58-dev libboost-graph1.58.0 libboost-iostreams1.58-dev libboost-log1.58-dev libboost-log1.58.0 libboost-math1.58-dev libboost-math1.58.0 libboost-python1.58-dev libboost-python1.58.0 libboost-random1.58-dev libboost-regex1.58-dev libboost-serialization1.58-dev libboost-serialization1.58.0 libboost-signals1.58.0 libboost-signals1.58-dev libboost-system1.58-dev libboost-thread1.58-dev libboost-timer1.58-dev libboost-timer1.58.0 libboost1.58-all-dev
sudo apt-get install python3-libnacl libsodium-dev libgphoto2-dev libavcodec-extra libneon27 libneon27-dev libopenexr-dev
sudo apt-get install libjhdf5-java libjhdf5-jni libhdf5-cpp-11 libhdf5-dev hdf5-tools h5utils hdf5-helpers
sudo apt-get install libitpp-dev libfann-dev libfann-doc libgeotiff-epsg  python-genshi gpsd libdlna-dev python-appdirs python-mako python-markupsafe python-pytools python3-appdirs python3-pytools
wget https://bootstrap.pypa.io/get-pip.py
sudo python3 get-pip.py
sudo pip3 virtualenv virtualenvwrapper
wget https://developer.nvidia.com/compute/cuda/8.0/prod/local_installers/cuda_8.0.44_linux-run
sudo sh cuda_8.0.44_linux.run

wget https://github.com/cisco/openh264/archive/v1.5.0.tar.gz
tar -xvzf v1.5.0.tar.gz
cd openh264-1.5.0
make -j4
sudo make install
cd ~

git clone http://github.com/kitware/vtk
cd vtk
mkdir build
cd build
cmake -DVTK_Group_Qt=ON -DVTK_QT_VERSION=5 -DCMAKE_DEBUG_POSTFIX=d -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_FLAGS_RELEASE="-fno-omit-frame-pointer -O3 -DNDEBUG -g" ..
make -j4
sudo make install

wget -O opencv.zip https://github.com/Itseez/opencv/archive/3.1.0.zip
unzip opencv.zip
wget -O opencv_contrib.zip https://github.com/Itseez/opencv_contrib/archive/3.1.0.zip
unzip opencv_contrib.zip
cd opencv-3.1.0/
mkdir build
cd build
export xfeatures2d={/path/to/opencv_contrib/modules/ }
{in ~/opencv-3.1.0/modules/cudalegacy/src/graphcuts.cpp add || (CUDART_VERSION >= 8000) to the first line below includes}
{in ~/opencv-3.1.0/modules/python/common.cmake append: 
find_package(HDF5)
include_directories(${HDF5_INCLUDE_DIRS})
to bottom}
{change vtkRenderingOpenGL to vtkRenderingOpenGL2 in cmake/OpenCVDetectVTK.cmake}

cmake -DCMAKE_BUILD_TYPE=RELEASE -DCMAKE_INSTALL_PREFIX=/usr/local -DWITH_CUDA=ON -DENABLE_FAST_MATH=1 -DCUDA_FAST_MATH=1 -DWITH_CUBLAS=1 -DINSTALL_PYTHON_EXAMPLES=ON -DBUILD_EXAMPLES=ON -DOPENCV_EXTRA_MODULES_PATH=$HOME/opencv_contrib-3.1.0/modules -DBUILD_NEW_PYTHON_SUPPORT=ON -DWITH_TBB=ON -DWITH_V4L=ON -DWITH_QT=ON -DWITH_OPENGL=ON -DWITH_VTK=ON -DWITH_OPENNI2=ON -DWITH_XINE=ON -DWITH_GDAL=ON -DWITH_GPHOTO2=ON .. 
make -j8
sudo make install         
